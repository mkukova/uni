/**
*
* Solution to course project # 10
* Introduction to programming course
* Faculty of Mathematics and Informatics of Sofia University
* Winter semester 2020/2021
*
* @author Maria Kukova
* @idnumber 62609
* @compiler VC
*
* <main file, executing the program>
*
*/

#include <iomanip> 
#include <iostream> 
#include <stdlib.h> 
#include <chrono>
#include <thread>
#include<Windows.h>

using namespace std;
using namespace std::this_thread; // sleep_for, sleep_until
using namespace std::chrono; // nanoseconds, system_clock, seconds

char One[11][10] =
{
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','1' },
};

char Two[11][10] =
{
	{'2','2','2','2','2','2','2','2','2','2' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','2' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','2' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','2' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','2' },
	{'2','2','2','2','2','2','2','2','2','2' },
	{'2',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'2',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'2',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'2',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'2','2','2','2','2','2','2','2','2','2' },
};

char Three[11][10] =
{
	{'3','3','3','3','3','3','3','3','3','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{'3','3','3','3','3','3','3','3','3','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','3' },
	{'3','3','3','3','3','3','3','3','3','3' },
};

char Four[11][10] =
{
	{'4',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{'4',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{'4',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{'4',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{'4',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{'4','4','4','4','4','4','4','4','4','4' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','4' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','4' },
};

char Five[11][10] =
{
	{'5','5','5','5','5','5','5','5','5','5' },
	{'5',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'5',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'5',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'5',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'5','5','5','5','5','5','5','5','5','5' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','5' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','5' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','5' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','5' },
	{'5','5','5','5','5','5','5','5','5','5' },
};

char Six[11][10] =
{
	{'6','6','6','6','6','6','6','6','6','6' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ',' ' },
	{'6','6','6','6','6','6','6','6','6','6' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ','6' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ','6' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ','6' },
	{'6',' ',' ',' ',' ',' ',' ',' ',' ','6' },
	{'6','6','6','6','6','6','6','6','6','6' },
};

char Seven[11][10] =
{
	{'7','7','7','7','7','7','7','7','7','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','7' },
};

char Eight[11][10] =
{
	{'8','8','8','8','8','8','8','8','8','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8','8','8','8','8','8','8','8','8','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8',' ',' ',' ',' ',' ',' ',' ',' ','8' },
	{'8','8','8','8','8','8','8','8','8','8' },
};

char Nine[11][10] =
{
	{'9','9','9','9','9','9','9','9','9','9' },
	{'9',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{'9',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{'9',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{'9',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{'9','9','9','9','9','9','9','9','9','9' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{' ',' ',' ',' ',' ',' ',' ',' ',' ','9' },
	{'9','9','9','9','9','9','9','9','9','9'},
};

char Zero[11][10] =
{
	{'0','0','0','0','0','0','0','0','0','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0',' ',' ',' ',' ',' ',' ',' ',' ','0' },
	{'0','0','0','0','0','0','0','0','0','0' }
};

void Draw(int digits[5])
{
	for (int i = 0; i < 7; i++)
	{
		std::cout << endl;
	}
	for (int i = 0; i < 11; i++)
	{
		std::cout << setw(20);
		for (int n = 0; n < 5; n++)
		{
			switch (digits[n])
			{
			case 1:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << One[i][j];
				}
				break;
			}
			case 2:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Two[i][j];
				}
				break;
			}
			case 3:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Three[i][j];
				}
				break;
			}
			case 4:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Four[i][j];
				}
				break;
			}
			case 5:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Five[i][j];
				}
				break;
			}
			case 6:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Six[i][j];
				}
				break;
			}
			case 7:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Seven[i][j];
				}
				break;
			}
			case 8:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Eight[i][j];
				}
				break;
			}
			case 9:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Nine[i][j];
				}
				break;
			}
			default:
			{
				for (int j = 0; j < 10; j++)
				{
					std::cout << Zero[i][j];
				}
				break;
			}
			}

			if (n == 2 && (i == 3 || i == 4 || i == 6 || i == 7))
			{
				std::cout << "  " << (char)178 << "  ";
			}
			else
			{
				std::cout << "     ";
			}
		}
		std::cout << endl;
	}
}

void Digits(int min, int sec, int digits[5])
{
	digits[2] = min % 10;
	digits[1] = (min / 10) % 10;
	digits[0] = (min / 100) % 10;
	digits[4] = sec % 10;
	digits[3] = (sec / 10) % 10;
}

void Timer(int timerSeconds)
{
	int min, sec;
	min = timerSeconds / 60;
	sec = timerSeconds % 60;

	int digits[5] = { 0,0,0,0,0 };

	while (sec != -1 || min != 0)
	{
		std::system("CLS");
		Digits(min, sec, digits);
		Draw(digits);
		if (sec == 0 && min > 0)
		{
			min--;
			sec = 59;
		}
		else
		{
			sec--;
		}

		sleep_for(nanoseconds(10));
		sleep_until(system_clock::now() + seconds(1));
	}
	
	Beep(500, 1000);
	std::system("CLS");
	std::cout << "Time's up!";
}

int main()
{
	int timerSeconds;
	//checks for valid input
	do
	{
		std::cout << "Enter seconds in range [1, 9999]: ";
		std::cin >> timerSeconds;
	} while (timerSeconds < 0 || timerSeconds>9999);

	Timer(timerSeconds);

	return 0;
}


